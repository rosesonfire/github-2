'use strict';

var _setup = require('./../setup');

var _setup2 = _interopRequireDefault(_setup);

var _xmlToJsonConverter = require('./../../main/services/xmlToJsonConverter');

var _xmlToJsonConverter2 = _interopRequireDefault(_xmlToJsonConverter);

var _plainOldMockObject = require('./../mocks/others/plainOldMockObject');

var _plainOldMockObject2 = _interopRequireDefault(_plainOldMockObject);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// eslint-disable-next-line no-undef

// unit
describe('XmlToJsonConverter', function () {
  var mocks = void 0,
      converter = void 0,
      asyncConverter = void 0,
      xml = void 0,
      jsonData = void 0;

  // eslint-disable-next-line no-undef
  before(function () {
    xml =
    /* eslint-disable */
    '<?xml version="1.0" encoding="UTF-8"?>\n<feed xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/" xml:lang="en-US">\n  <id>tag:github.com,2008:/timeline</id>\n  <link type="text/html" rel="alternate" href="https://github.com/timeline" />\n  <link type="application/atom+xml" rel="self" href="https://github.com/timeline" />\n  <title>GitHub Public Timeline Feed</title>\n  <updated>2018-03-01T23:58:35Z</updated>\n  <entry>\n    <id>tag:github.com,2008:IssueCommentEvent/7319278825</id>\n    <published>2018-03-01T23:58:35Z</published>\n    <updated>2018-03-01T23:58:35Z</updated>\n    <link type="text/html" rel="alternate" href="https://github.com/ansible/ansible/pull/36931#issuecomment-369773515" />\n    <title type="html">ansibot commented on pull request ansible/ansible#36931</title>\n    <author>\n      <name>ansibot</name>\n      <email />\n      <uri>https://github.com/ansibot</uri>\n    </author>\n    <media:thumbnail height="30" width="30" url="https://avatars3.githubusercontent.com/u/6585283?s=30&amp;v=4" />\n    <content type="html">&lt;!-- issue_comment --&gt;\n&lt;div class="d-flex border-bottom border-gray-light py-3"&gt;\n  \n&lt;span class="position-relative mr-3"&gt;\n  &lt;a href="/ansibot" rel="noreferrer"&gt;&lt;img alt="@ansibot" class="avatar" height="32" src="https://avatars0.githubusercontent.com/u/6585283?s=64&amp;amp;v=4" width="32"&gt;&lt;/a&gt;\n&lt;/span&gt;\n\n  &lt;div class="d-flex flex-column width-full"&gt;\n    &lt;div&gt;\n      &lt;div class="d-flex flex-justify-between flex-items-baseline"&gt;\n        &lt;div&gt;\n          &lt;a href="/ansibot" class="link-gray-dark text-bold wb-break-all" data-ga-click="News feed, event click, Event click type:IssueCommentEvent target:actor" data-hydro-click-hmac="0b4c656b7b6559ca7cc93b318e042cf312ca3b7b2bc151806fb59a52ce1ff73d" data-hydro-click="{&amp;quot;event_type&amp;quot;:&amp;quot;news_feed.event.click&amp;quot;,&amp;quot;payload&amp;quot;:{&amp;quot;action_target&amp;quot;:&amp;quot;actor&amp;quot;,&amp;quot;event&amp;quot;:{&amp;quot;repo_id&amp;quot;:3638964,&amp;quot;actor_id&amp;quot;:6585283,&amp;quot;public&amp;quot;:true,&amp;quot;type&amp;quot;:&amp;quot;IssueCommentEvent&amp;quot;,&amp;quot;target_id&amp;quot;:null,&amp;quot;id&amp;quot;:7319278825,&amp;quot;additional_details_shown&amp;quot;:false},&amp;quot;org_id&amp;quot;:null,&amp;quot;originating_request_id&amp;quot;:&amp;quot;D108:869F:2AD6D14:3E2C216:5A9893AA&amp;quot;}}" rel="noreferrer"&gt;ansibot&lt;/a&gt; commented on pull request &lt;a href="/ansible/ansible/pull/36931#issuecomment-369773515" class="link-gray-dark text-bold" data-ga-click="News feed, event click, Event click type:IssueCommentEvent target:issue-comment" data-hydro-click-hmac="b86b9b2886e58465af52445692e372f5075f8190e9eec90cb8f8d60253b315a5" data-hydro-click="{&amp;quot;event_type&amp;quot;:&amp;quot;news_feed.event.click&amp;quot;,&amp;quot;payload&amp;quot;:{&amp;quot;action_target&amp;quot;:&amp;quot;issue-comment&amp;quot;,&amp;quot;event&amp;quot;:{&amp;quot;repo_id&amp;quot;:3638964,&amp;quot;actor_id&amp;quot;:6585283,&amp;quot;public&amp;quot;:true,&amp;quot;type&amp;quot;:&amp;quot;IssueCommentEvent&amp;quot;,&amp;quot;target_id&amp;quot;:null,&amp;quot;id&amp;quot;:7319278825,&amp;quot;additional_details_shown&amp;quot;:false},&amp;quot;org_id&amp;quot;:null,&amp;quot;originating_request_id&amp;quot;:&amp;quot;D108:869F:2AD6D14:3E2C216:5A9893AA&amp;quot;}}" title="postgresql_user: set encrypted as default and fix empty password reporting changed" rel="noreferrer"&gt;ansible/ansible#36931&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;span class="f6 text-gray-light ml-4"&gt;\n          &lt;relative-time datetime="2018-03-01T23:58:35Z"&gt;Mar 2, 2018&lt;/relative-time&gt;\n        &lt;/span&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class="message markdown-body mt-3"&gt;\n      &lt;blockquote&gt;\n        &lt;p&gt;cc &lt;a href="https://github.com/matburt" class="user-mention" rel="noreferrer"&gt;@matburt&lt;/a&gt; &lt;a href="https://github.com/nerzhul" class="user-mention" rel="noreferrer"&gt;@nerzhul&lt;/a&gt;\n&lt;a href="https://github.com/ansible/ansibullbot/blob/master/ISSUE_HELP.md" rel="noreferrer"&gt;click here for bot help&lt;/a&gt;\n&lt;/p&gt;\n      &lt;/blockquote&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;</content>\n  </entry>\n</feed>';
    /* eslint-enable */
    jsonData = {};
  });

  // eslint-disable-next-line no-undef
  afterEach(function () {
    return mocks.forEach(function (mock) {
      return mock.verify();
    });
  });

  // eslint-disable-next-line no-undef
  describe('When converting data with sync converter', function () {
    // eslint-disable-next-line no-undef
    beforeEach(function () {
      converter = (0, _plainOldMockObject2.default)();
      mocks = [converter];
      converter.once().withExactArgs({ xml: xml }).returns(jsonData);
    });

    // eslint-disable-next-line no-undef
    it('should return a promise', function () {
      return (0, _xmlToJsonConverter2.default)({ converter: converter })({ xml: xml }).should.be.a('promise');
    });

    // eslint-disable-next-line no-undef
    it('should get converted data', function () {
      return (0, _xmlToJsonConverter2.default)({ converter: converter })({ xml: xml }).should.eventually.equal(jsonData);
    });
  });

  // eslint-disable-next-line no-undef
  describe('When converting data with async converter', function () {
    // eslint-disable-next-line no-undef
    beforeEach(function () {
      asyncConverter = (0, _plainOldMockObject2.default)();
      mocks = [asyncConverter];
      asyncConverter.once().withExactArgs({ xml: xml }).returns(Promise.resolve(jsonData));
    });

    // eslint-disable-next-line no-undef
    it('should get converted data', function () {
      return (0, _xmlToJsonConverter2.default)({ converter: asyncConverter })({ xml: xml }).should.eventually.equal(jsonData);
    });
  });
});
// mocks
// eslint-disable-next-line no-unused-vars
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXN0L3NlcnZpY2VzL3htbFRvSnNvbkNvbnZlcnRlci5zcGVjLmpzIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwibW9ja3MiLCJjb252ZXJ0ZXIiLCJhc3luY0NvbnZlcnRlciIsInhtbCIsImpzb25EYXRhIiwiYmVmb3JlIiwiYWZ0ZXJFYWNoIiwiZm9yRWFjaCIsIm1vY2siLCJ2ZXJpZnkiLCJiZWZvcmVFYWNoIiwib25jZSIsIndpdGhFeGFjdEFyZ3MiLCJyZXR1cm5zIiwiaXQiLCJzaG91bGQiLCJiZSIsImEiLCJldmVudHVhbGx5IiwiZXF1YWwiLCJQcm9taXNlIiwicmVzb2x2ZSJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7OztBQUVBOzs7O0FBRUE7Ozs7OztBQUVBOztBQUxBO0FBTUFBLFNBQVMsb0JBQVQsRUFBK0IsWUFBTTtBQUNuQyxNQUNFQyxjQURGO0FBQUEsTUFFRUMsa0JBRkY7QUFBQSxNQUdFQyx1QkFIRjtBQUFBLE1BSUVDLFlBSkY7QUFBQSxNQUtFQyxpQkFMRjs7QUFPQTtBQUNBQyxTQUFPLFlBQU07QUFDWEY7QUFDSjtBQURJO0FBa0RKO0FBQ0lDLGVBQVcsRUFBWDtBQUNELEdBckREOztBQXVEQTtBQUNBRSxZQUFVO0FBQUEsV0FBTU4sTUFBTU8sT0FBTixDQUFjO0FBQUEsYUFBUUMsS0FBS0MsTUFBTCxFQUFSO0FBQUEsS0FBZCxDQUFOO0FBQUEsR0FBVjs7QUFFQTtBQUNBVixXQUFTLDBDQUFULEVBQXFELFlBQU07QUFDekQ7QUFDQVcsZUFBVyxZQUFNO0FBQ2ZULGtCQUFZLG1DQUFaO0FBQ0FELGNBQVEsQ0FBRUMsU0FBRixDQUFSO0FBQ0FBLGdCQUFVVSxJQUFWLEdBQWlCQyxhQUFqQixDQUErQixFQUFFVCxRQUFGLEVBQS9CLEVBQXdDVSxPQUF4QyxDQUFnRFQsUUFBaEQ7QUFDRCxLQUpEOztBQU1BO0FBQ0FVLE9BQUcseUJBQUgsRUFBOEI7QUFBQSxhQUM1QixrQ0FBbUIsRUFBRWIsb0JBQUYsRUFBbkIsRUFBa0MsRUFBRUUsUUFBRixFQUFsQyxFQUEyQ1ksTUFBM0MsQ0FBa0RDLEVBQWxELENBQXFEQyxDQUFyRCxDQUF1RCxTQUF2RCxDQUQ0QjtBQUFBLEtBQTlCOztBQUdBO0FBQ0FILE9BQUcsMkJBQUgsRUFBZ0M7QUFBQSxhQUM5QixrQ0FBbUIsRUFBRWIsb0JBQUYsRUFBbkIsRUFBa0MsRUFBRUUsUUFBRixFQUFsQyxFQUEyQ1ksTUFBM0MsQ0FBa0RHLFVBQWxELENBQ0dDLEtBREgsQ0FDU2YsUUFEVCxDQUQ4QjtBQUFBLEtBQWhDO0FBR0QsR0FoQkQ7O0FBa0JBO0FBQ0FMLFdBQVMsMkNBQVQsRUFBc0QsWUFBTTtBQUMxRDtBQUNBVyxlQUFXLFlBQU07QUFDZlIsdUJBQWlCLG1DQUFqQjtBQUNBRixjQUFRLENBQUVFLGNBQUYsQ0FBUjtBQUNBQSxxQkFBZVMsSUFBZixHQUFzQkMsYUFBdEIsQ0FBb0MsRUFBRVQsUUFBRixFQUFwQyxFQUNHVSxPQURILENBQ1dPLFFBQVFDLE9BQVIsQ0FBZ0JqQixRQUFoQixDQURYO0FBRUQsS0FMRDs7QUFPQTtBQUNBVSxPQUFHLDJCQUFILEVBQWdDO0FBQUEsYUFDOUIsa0NBQW1CLEVBQUViLFdBQVdDLGNBQWIsRUFBbkIsRUFBa0QsRUFBRUMsUUFBRixFQUFsRCxFQUEyRFksTUFBM0QsQ0FDR0csVUFESCxDQUNjQyxLQURkLENBQ29CZixRQURwQixDQUQ4QjtBQUFBLEtBQWhDO0FBR0QsR0FiRDtBQWNELENBckdEO0FBSkE7QUFKQSIsImZpbGUiOiJ4bWxUb0pzb25Db252ZXJ0ZXIuc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuaW1wb3J0IGV4cGVjdCBmcm9tICcuLy4uL3NldHVwJ1xuLy8gdW5pdFxuaW1wb3J0IHhtbFRvSnNvbkNvbnZlcnRlciBmcm9tICcuLy4uLy4uL21haW4vc2VydmljZXMveG1sVG9Kc29uQ29udmVydGVyJ1xuLy8gbW9ja3NcbmltcG9ydCBwbGFpbk9sZE1vY2tPYmplY3QgZnJvbSAnLi8uLi9tb2Nrcy9vdGhlcnMvcGxhaW5PbGRNb2NrT2JqZWN0J1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbmRlc2NyaWJlKCdYbWxUb0pzb25Db252ZXJ0ZXInLCAoKSA9PiB7XG4gIGxldFxuICAgIG1vY2tzLFxuICAgIGNvbnZlcnRlcixcbiAgICBhc3luY0NvbnZlcnRlcixcbiAgICB4bWwsXG4gICAganNvbkRhdGFcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgYmVmb3JlKCgpID0+IHtcbiAgICB4bWwgPVxuLyogZXNsaW50LWRpc2FibGUgKi9cbmA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz5cbjxmZWVkIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwNS9BdG9tXCIgeG1sbnM6bWVkaWE9XCJodHRwOi8vc2VhcmNoLnlhaG9vLmNvbS9tcnNzL1wiIHhtbDpsYW5nPVwiZW4tVVNcIj5cbiAgPGlkPnRhZzpnaXRodWIuY29tLDIwMDg6L3RpbWVsaW5lPC9pZD5cbiAgPGxpbmsgdHlwZT1cInRleHQvaHRtbFwiIHJlbD1cImFsdGVybmF0ZVwiIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vdGltZWxpbmVcIiAvPlxuICA8bGluayB0eXBlPVwiYXBwbGljYXRpb24vYXRvbSt4bWxcIiByZWw9XCJzZWxmXCIgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS90aW1lbGluZVwiIC8+XG4gIDx0aXRsZT5HaXRIdWIgUHVibGljIFRpbWVsaW5lIEZlZWQ8L3RpdGxlPlxuICA8dXBkYXRlZD4yMDE4LTAzLTAxVDIzOjU4OjM1WjwvdXBkYXRlZD5cbiAgPGVudHJ5PlxuICAgIDxpZD50YWc6Z2l0aHViLmNvbSwyMDA4Oklzc3VlQ29tbWVudEV2ZW50LzczMTkyNzg4MjU8L2lkPlxuICAgIDxwdWJsaXNoZWQ+MjAxOC0wMy0wMVQyMzo1ODozNVo8L3B1Ymxpc2hlZD5cbiAgICA8dXBkYXRlZD4yMDE4LTAzLTAxVDIzOjU4OjM1WjwvdXBkYXRlZD5cbiAgICA8bGluayB0eXBlPVwidGV4dC9odG1sXCIgcmVsPVwiYWx0ZXJuYXRlXCIgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9hbnNpYmxlL2Fuc2libGUvcHVsbC8zNjkzMSNpc3N1ZWNvbW1lbnQtMzY5NzczNTE1XCIgLz5cbiAgICA8dGl0bGUgdHlwZT1cImh0bWxcIj5hbnNpYm90IGNvbW1lbnRlZCBvbiBwdWxsIHJlcXVlc3QgYW5zaWJsZS9hbnNpYmxlIzM2OTMxPC90aXRsZT5cbiAgICA8YXV0aG9yPlxuICAgICAgPG5hbWU+YW5zaWJvdDwvbmFtZT5cbiAgICAgIDxlbWFpbCAvPlxuICAgICAgPHVyaT5odHRwczovL2dpdGh1Yi5jb20vYW5zaWJvdDwvdXJpPlxuICAgIDwvYXV0aG9yPlxuICAgIDxtZWRpYTp0aHVtYm5haWwgaGVpZ2h0PVwiMzBcIiB3aWR0aD1cIjMwXCIgdXJsPVwiaHR0cHM6Ly9hdmF0YXJzMy5naXRodWJ1c2VyY29udGVudC5jb20vdS82NTg1MjgzP3M9MzAmYW1wO3Y9NFwiIC8+XG4gICAgPGNvbnRlbnQgdHlwZT1cImh0bWxcIj4mbHQ7IS0tIGlzc3VlX2NvbW1lbnQgLS0mZ3Q7XG4mbHQ7ZGl2IGNsYXNzPVwiZC1mbGV4IGJvcmRlci1ib3R0b20gYm9yZGVyLWdyYXktbGlnaHQgcHktM1wiJmd0O1xuICBcbiZsdDtzcGFuIGNsYXNzPVwicG9zaXRpb24tcmVsYXRpdmUgbXItM1wiJmd0O1xuICAmbHQ7YSBocmVmPVwiL2Fuc2lib3RcIiByZWw9XCJub3JlZmVycmVyXCImZ3Q7Jmx0O2ltZyBhbHQ9XCJAYW5zaWJvdFwiIGNsYXNzPVwiYXZhdGFyXCIgaGVpZ2h0PVwiMzJcIiBzcmM9XCJodHRwczovL2F2YXRhcnMwLmdpdGh1YnVzZXJjb250ZW50LmNvbS91LzY1ODUyODM/cz02NCZhbXA7YW1wO3Y9NFwiIHdpZHRoPVwiMzJcIiZndDsmbHQ7L2EmZ3Q7XG4mbHQ7L3NwYW4mZ3Q7XG5cbiAgJmx0O2RpdiBjbGFzcz1cImQtZmxleCBmbGV4LWNvbHVtbiB3aWR0aC1mdWxsXCImZ3Q7XG4gICAgJmx0O2RpdiZndDtcbiAgICAgICZsdDtkaXYgY2xhc3M9XCJkLWZsZXggZmxleC1qdXN0aWZ5LWJldHdlZW4gZmxleC1pdGVtcy1iYXNlbGluZVwiJmd0O1xuICAgICAgICAmbHQ7ZGl2Jmd0O1xuICAgICAgICAgICZsdDthIGhyZWY9XCIvYW5zaWJvdFwiIGNsYXNzPVwibGluay1ncmF5LWRhcmsgdGV4dC1ib2xkIHdiLWJyZWFrLWFsbFwiIGRhdGEtZ2EtY2xpY2s9XCJOZXdzIGZlZWQsIGV2ZW50IGNsaWNrLCBFdmVudCBjbGljayB0eXBlOklzc3VlQ29tbWVudEV2ZW50IHRhcmdldDphY3RvclwiIGRhdGEtaHlkcm8tY2xpY2staG1hYz1cIjBiNGM2NTZiN2I2NTU5Y2E3Y2M5M2IzMThlMDQyY2YzMTJjYTNiN2IyYmMxNTE4MDZmYjU5YTUyY2UxZmY3M2RcIiBkYXRhLWh5ZHJvLWNsaWNrPVwieyZhbXA7cXVvdDtldmVudF90eXBlJmFtcDtxdW90OzomYW1wO3F1b3Q7bmV3c19mZWVkLmV2ZW50LmNsaWNrJmFtcDtxdW90OywmYW1wO3F1b3Q7cGF5bG9hZCZhbXA7cXVvdDs6eyZhbXA7cXVvdDthY3Rpb25fdGFyZ2V0JmFtcDtxdW90OzomYW1wO3F1b3Q7YWN0b3ImYW1wO3F1b3Q7LCZhbXA7cXVvdDtldmVudCZhbXA7cXVvdDs6eyZhbXA7cXVvdDtyZXBvX2lkJmFtcDtxdW90OzozNjM4OTY0LCZhbXA7cXVvdDthY3Rvcl9pZCZhbXA7cXVvdDs6NjU4NTI4MywmYW1wO3F1b3Q7cHVibGljJmFtcDtxdW90Ozp0cnVlLCZhbXA7cXVvdDt0eXBlJmFtcDtxdW90OzomYW1wO3F1b3Q7SXNzdWVDb21tZW50RXZlbnQmYW1wO3F1b3Q7LCZhbXA7cXVvdDt0YXJnZXRfaWQmYW1wO3F1b3Q7Om51bGwsJmFtcDtxdW90O2lkJmFtcDtxdW90Ozo3MzE5Mjc4ODI1LCZhbXA7cXVvdDthZGRpdGlvbmFsX2RldGFpbHNfc2hvd24mYW1wO3F1b3Q7OmZhbHNlfSwmYW1wO3F1b3Q7b3JnX2lkJmFtcDtxdW90OzpudWxsLCZhbXA7cXVvdDtvcmlnaW5hdGluZ19yZXF1ZXN0X2lkJmFtcDtxdW90OzomYW1wO3F1b3Q7RDEwODo4NjlGOjJBRDZEMTQ6M0UyQzIxNjo1QTk4OTNBQSZhbXA7cXVvdDt9fVwiIHJlbD1cIm5vcmVmZXJyZXJcIiZndDthbnNpYm90Jmx0Oy9hJmd0OyBjb21tZW50ZWQgb24gcHVsbCByZXF1ZXN0ICZsdDthIGhyZWY9XCIvYW5zaWJsZS9hbnNpYmxlL3B1bGwvMzY5MzEjaXNzdWVjb21tZW50LTM2OTc3MzUxNVwiIGNsYXNzPVwibGluay1ncmF5LWRhcmsgdGV4dC1ib2xkXCIgZGF0YS1nYS1jbGljaz1cIk5ld3MgZmVlZCwgZXZlbnQgY2xpY2ssIEV2ZW50IGNsaWNrIHR5cGU6SXNzdWVDb21tZW50RXZlbnQgdGFyZ2V0Omlzc3VlLWNvbW1lbnRcIiBkYXRhLWh5ZHJvLWNsaWNrLWhtYWM9XCJiODZiOWIyODg2ZTU4NDY1YWY1MjQ0NTY5MmUzNzJmNTA3NWY4MTkwZTllZWM5MGNiOGY4ZDYwMjUzYjMxNWE1XCIgZGF0YS1oeWRyby1jbGljaz1cInsmYW1wO3F1b3Q7ZXZlbnRfdHlwZSZhbXA7cXVvdDs6JmFtcDtxdW90O25ld3NfZmVlZC5ldmVudC5jbGljayZhbXA7cXVvdDssJmFtcDtxdW90O3BheWxvYWQmYW1wO3F1b3Q7OnsmYW1wO3F1b3Q7YWN0aW9uX3RhcmdldCZhbXA7cXVvdDs6JmFtcDtxdW90O2lzc3VlLWNvbW1lbnQmYW1wO3F1b3Q7LCZhbXA7cXVvdDtldmVudCZhbXA7cXVvdDs6eyZhbXA7cXVvdDtyZXBvX2lkJmFtcDtxdW90OzozNjM4OTY0LCZhbXA7cXVvdDthY3Rvcl9pZCZhbXA7cXVvdDs6NjU4NTI4MywmYW1wO3F1b3Q7cHVibGljJmFtcDtxdW90Ozp0cnVlLCZhbXA7cXVvdDt0eXBlJmFtcDtxdW90OzomYW1wO3F1b3Q7SXNzdWVDb21tZW50RXZlbnQmYW1wO3F1b3Q7LCZhbXA7cXVvdDt0YXJnZXRfaWQmYW1wO3F1b3Q7Om51bGwsJmFtcDtxdW90O2lkJmFtcDtxdW90Ozo3MzE5Mjc4ODI1LCZhbXA7cXVvdDthZGRpdGlvbmFsX2RldGFpbHNfc2hvd24mYW1wO3F1b3Q7OmZhbHNlfSwmYW1wO3F1b3Q7b3JnX2lkJmFtcDtxdW90OzpudWxsLCZhbXA7cXVvdDtvcmlnaW5hdGluZ19yZXF1ZXN0X2lkJmFtcDtxdW90OzomYW1wO3F1b3Q7RDEwODo4NjlGOjJBRDZEMTQ6M0UyQzIxNjo1QTk4OTNBQSZhbXA7cXVvdDt9fVwiIHRpdGxlPVwicG9zdGdyZXNxbF91c2VyOiBzZXQgZW5jcnlwdGVkIGFzIGRlZmF1bHQgYW5kIGZpeCBlbXB0eSBwYXNzd29yZCByZXBvcnRpbmcgY2hhbmdlZFwiIHJlbD1cIm5vcmVmZXJyZXJcIiZndDthbnNpYmxlL2Fuc2libGUjMzY5MzEmbHQ7L2EmZ3Q7XG4gICAgICAgICZsdDsvZGl2Jmd0O1xuICAgICAgICAmbHQ7c3BhbiBjbGFzcz1cImY2IHRleHQtZ3JheS1saWdodCBtbC00XCImZ3Q7XG4gICAgICAgICAgJmx0O3JlbGF0aXZlLXRpbWUgZGF0ZXRpbWU9XCIyMDE4LTAzLTAxVDIzOjU4OjM1WlwiJmd0O01hciAyLCAyMDE4Jmx0Oy9yZWxhdGl2ZS10aW1lJmd0O1xuICAgICAgICAmbHQ7L3NwYW4mZ3Q7XG4gICAgICAmbHQ7L2RpdiZndDtcbiAgICAmbHQ7L2RpdiZndDtcbiAgICAmbHQ7ZGl2IGNsYXNzPVwibWVzc2FnZSBtYXJrZG93bi1ib2R5IG10LTNcIiZndDtcbiAgICAgICZsdDtibG9ja3F1b3RlJmd0O1xuICAgICAgICAmbHQ7cCZndDtjYyAmbHQ7YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL21hdGJ1cnRcIiBjbGFzcz1cInVzZXItbWVudGlvblwiIHJlbD1cIm5vcmVmZXJyZXJcIiZndDtAbWF0YnVydCZsdDsvYSZndDsgJmx0O2EgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9uZXJ6aHVsXCIgY2xhc3M9XCJ1c2VyLW1lbnRpb25cIiByZWw9XCJub3JlZmVycmVyXCImZ3Q7QG5lcnpodWwmbHQ7L2EmZ3Q7XG4mbHQ7YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2Fuc2libGUvYW5zaWJ1bGxib3QvYmxvYi9tYXN0ZXIvSVNTVUVfSEVMUC5tZFwiIHJlbD1cIm5vcmVmZXJyZXJcIiZndDtjbGljayBoZXJlIGZvciBib3QgaGVscCZsdDsvYSZndDtcbiZsdDsvcCZndDtcbiAgICAgICZsdDsvYmxvY2txdW90ZSZndDtcbiAgICAmbHQ7L2RpdiZndDtcbiAgJmx0Oy9kaXYmZ3Q7XG4mbHQ7L2RpdiZndDs8L2NvbnRlbnQ+XG4gIDwvZW50cnk+XG48L2ZlZWQ+YFxuLyogZXNsaW50LWVuYWJsZSAqL1xuICAgIGpzb25EYXRhID0ge31cbiAgfSlcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgYWZ0ZXJFYWNoKCgpID0+IG1vY2tzLmZvckVhY2gobW9jayA9PiBtb2NrLnZlcmlmeSgpKSlcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgZGVzY3JpYmUoJ1doZW4gY29udmVydGluZyBkYXRhIHdpdGggc3luYyBjb252ZXJ0ZXInLCAoKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBjb252ZXJ0ZXIgPSBwbGFpbk9sZE1vY2tPYmplY3QoKVxuICAgICAgbW9ja3MgPSBbIGNvbnZlcnRlciBdXG4gICAgICBjb252ZXJ0ZXIub25jZSgpLndpdGhFeGFjdEFyZ3MoeyB4bWwgfSkucmV0dXJucyhqc29uRGF0YSlcbiAgICB9KVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gYSBwcm9taXNlJywgKCkgPT5cbiAgICAgIHhtbFRvSnNvbkNvbnZlcnRlcih7IGNvbnZlcnRlciB9KSh7IHhtbCB9KS5zaG91bGQuYmUuYSgncHJvbWlzZScpKVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgaXQoJ3Nob3VsZCBnZXQgY29udmVydGVkIGRhdGEnLCAoKSA9PlxuICAgICAgeG1sVG9Kc29uQ29udmVydGVyKHsgY29udmVydGVyIH0pKHsgeG1sIH0pLnNob3VsZC5ldmVudHVhbGx5XG4gICAgICAgIC5lcXVhbChqc29uRGF0YSkpXG4gIH0pXG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIGRlc2NyaWJlKCdXaGVuIGNvbnZlcnRpbmcgZGF0YSB3aXRoIGFzeW5jIGNvbnZlcnRlcicsICgpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGFzeW5jQ29udmVydGVyID0gcGxhaW5PbGRNb2NrT2JqZWN0KClcbiAgICAgIG1vY2tzID0gWyBhc3luY0NvbnZlcnRlciBdXG4gICAgICBhc3luY0NvbnZlcnRlci5vbmNlKCkud2l0aEV4YWN0QXJncyh7IHhtbCB9KVxuICAgICAgICAucmV0dXJucyhQcm9taXNlLnJlc29sdmUoanNvbkRhdGEpKVxuICAgIH0pXG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICBpdCgnc2hvdWxkIGdldCBjb252ZXJ0ZWQgZGF0YScsICgpID0+XG4gICAgICB4bWxUb0pzb25Db252ZXJ0ZXIoeyBjb252ZXJ0ZXI6IGFzeW5jQ29udmVydGVyIH0pKHsgeG1sIH0pLnNob3VsZFxuICAgICAgICAuZXZlbnR1YWxseS5lcXVhbChqc29uRGF0YSkpXG4gIH0pXG59KVxuIl19